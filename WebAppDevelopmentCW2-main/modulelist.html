<html>
<head>
  <meta name ="viewport" content="width=device-width, initial-scale=1"/>
    <title>Coursework2_WebApp</title>
    <link rel="stylesheet" href="main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
  </head>
<body>

  
                      
  <div class="topnav">               
    <a href="Index.html">
        Home Page
      </a>
    <a href="modulelist.html">
      Module list
    </a>
    <a href="assessments.html">
      Schedule assesments
    </a>
    <a href="timeslots.html">
      View timeslots
    </a>
  </div>
<div> 
  <form action="/action_page.php">
    <label for="modulelistone">Choose Module:</label>
    <select name="module" id="module">
      <optgroup label="Undergraduate">
        <option value="softwareEngineering">Software Engineering</option>
        <option value="WebDevelopment">Web Development</option>
        <option value="GamesDevelopment">Games Development</option>
        <option value="Computer Science">Computer Science</option>
        <option value="Data Science">Data Science</option>
      </optgroup>
      <optgroup label="Postgraduate">
        <option value="Airobotics">Ai & Robotics</option>
        <option value="BigData">Big Data</option>
        <option value="NetworkSecurity">Network Security</option>
        <option value="Computing">Computing</option>
        <option value="InformationTechnology">Information Technology</option>
      </optgroup>
      <optgroup label="Research Degrees">
        <option value="GameTheory">Game Theory</option>
        <option value="Ai">AI</option>
        <option value="DataMining">Data Mining</option>
        <option value="Forensics">Forensics</option>
        <option value="Business IT">Business IT</option>
      </optgroup>
    </select>
    <br><br>
    <input class="Submitone" type="submit" value="Submit">
  </form>
  </div>
  
  <div id="myData">
<script type="text/javascript">        // outputs json files to page
    fetch('module-1.json')
        .then(function (response) {
            return response.json();
        })
        .then(function (data) {
            appendData(data);
        })
        .catch(function (err) {
            console.log('error: ' + err);
        });

    function appendData(data) {
        let mainContainer = document.getElementById("myData");
        for (let i = 0; i < data.length; i++) {
            let div = document.createElement("div");
            div.innerHTML = 'Degree level + Course : ' + data[i].Name + ', ' + data[i].Course;
            mainContainer.appendChild(div);
        }
    }
    </script>


<script type="text/javascript">
    fetch('module-2.json')
        .then(function (response) {
            return response.json();
        })
        .then(function (data) {
            appendData(data);
        })
        .catch(function (err) {
            console.log('error: ' + err);
        });

    function appendData(data) {
        let mainContainer = document.getElementById("myData");
        for (let i = 0; i < data.length; i++) {
            let div = document.createElement("div");
            div.innerHTML = 'Degree Level + Course: ' + data[i].Name + ', ' + data[i].Course;
            mainContainer.appendChild(div);
        }
    }
  </script>

<script type="text/javascript">
    fetch('module-3.json')
        .then(function (response) {
            return response.json();
        })
        .then(function (data) {
            appendData(data);
        })
        .catch(function (err) {
            console.log('error: ' + err);
        });

    function appendData(data) {
        let mainContainer = document.getElementById("myData");
        for (let i = 0; i < data.length; i++) {
            let div = document.createElement("div");
            div.innerHTML = 'Degree Level + Course: ' + data[i].Name + ', ' + data[i].Course;
            mainContainer.appendChild(div);
        }
    }
</script>

</div>
<div class="inputform">      
  <form>
    <label for="name">Name</label>
    <input type="text" name="name" id="name" />

    <label for="email">Module</label>
    <input type="text" name="module" id="module" />

   <p>
   <input type="checkbox" name="degreelevel" id="underg" value="underg" />
     <label for="underg">Undergraduate</label>

     <input type="checkbox" name="degreelevel" id="postg" value="postg" />
     <label for="postg">Postgraduate</label>

     <input type="checkbox" name="degreelevel" id="research" value="research" />
     <label for="research">Research</label>
   </p>

    <button type="submit">Submit</button>
  </form>
<script>
  function handleSubmit(event) {
    event.preventDefault();

    const data = new FormData(event.target);

    const value = Object.fromEntries(data.entries());

   value.topics = data.getAll("degreelevel");

    console.log({ value });
  }

  const form = document.querySelector("form");
  form.addEventListener("submit", handleSubmit);
</script>

</div>

  <div class="modulelistpage">
    <p></p>
  </div>
  
  <footer>
    <h1>Module List</h1>
</footer>
</body>